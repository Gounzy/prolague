% Registre non utilisé à 0
p1(IV0,IV1,IV2,IV3,IV4,IM,OM,R) :- {OV0 = 0, OV1 = IV1, OV2 = IV2, OV3 = IV3, OV4 = IV4}, p2(OV0,OV1,OV2,OV3,OV4,IM,OM,R).

% if V2 < V3, goto p7
p2(IV0,IV1,IV2,IV3,IV4,IM,OM,R) :- {IV2 < IV3, OV0 = IV0, OV1 = IV1, OV2 = IV2, OV3 = IV3, OV4 = IV4}, p7(OV0,OV1,OV2,OV3,OV4,IM,OM,R).
% else continue (V2 >= V3)
p2(IV0,IV1,IV2,IV3,IV4,IM,OM,R) :- {IV2 >= IV3, OV0 = IV0, OV1 = IV1, OV2 = IV2, OV3 = IV3, OV4 = IV4}, p3(OV0,OV1,OV2,OV3,OV4,IM,OM,R).

% if V2 < V4, goto p7
p3(IV0,IV1,IV2,IV3,IV4,IM,OM,R) :- {IV2 < IV4, OV0 = IV0, OV1 = IV1, OV2 = IV2, OV3 = IV3, OV4 = IV4}, p7(OV0,OV1,OV2,OV3,OV4,IM,OM,R).
% else continue (V2 >= V4)
p3(IV0,IV1,IV2,IV3,IV4,IM,OM,R) :- {IV2 >= IV4, OV0 = IV0, OV1 = IV1, OV2 = IV2, OV3 = IV3, OV4 = IV4}, p5(OV0,OV1,OV2,OV3,OV4,IM,OM,R).

% (V2 >= V4 et V2 >= V3)
% return OVO (= V2)
p5(IV0,IV1,IV2,IV3,IV4,IM,OM,R) :- {OV0 = IV2, OV1 = IV1, OV2 = IV2, OV3 = IV3, OV4 = IV4}, p6(OV0,OV1,OV2,OV3,OV4,IM,OM,R).
p6(IV0,IV1,IV2,IV3,IV4,IM,IM,IV0) :- {}.

% if V3 < V2 goto p13
p7(IV0,IV1,IV2,IV3,IV4,IM,OM,R) :- {IV3 < IV2, OV0 = IV0, OV1 = IV1, OV2 = IV2, OV3 = IV3, OV4 = IV4}, p13(OV0,OV1,OV2,OV3,OV4,IM,OM,R).
% else continue (V3 >= V2)
p7(IV0,IV1,IV2,IV3,IV4,IM,OM,R) :- {IV3 >= IV2, OV0 = IV0, OV1 = IV1, OV2 = IV2, OV3 = IV3, OV4 = IV4}, p9(OV0,OV1,OV2,OV3,OV4,IM,OM,R).

% if V3 < V4 goto p13
p9(IV0,IV1,IV2,IV3,IV4,IM,OM,R) :- {IV3 < IV4, OV0 = IV0, OV1 = IV1, OV2 = IV2, OV3 = IV3, OV4 = IV4}, p13(OV0,OV1,OV2,OV3,OV4,IM,OM,R).
% else continue (V3 >= V4)
p9(IV0,IV1,IV2,IV3,IV4,IM,OM,R) :- {IV3 >= IV4, OV0 = IV0, OV1 = IV1, OV2 = IV2, OV3 = IV3, OV4 = IV4}, p11(OV0,OV1,OV2,OV3,OV4,IM,OM,R).

% Return V3
p11(IV0,IV1,IV2,IV3,IV4,IM,OM,R) :- {OV0 = IV3, OV1 = IV1, OV2 = IV2, OV3 = IV3, OV4 = IV4}, p12(OV0,OV1,OV2,OV3,OV4,IM,OM,R).
p12(IV0,IV1,IV2,IV3,IV4,IM,OM,R) :- {OV0 = IV0, OV1 = IV1, OV2 = IV2, OV3 = IV3, OV4 = IV4}, p6(OV0,OV1,OV2,OV3,OV4,IM,OM,R).

% Return V4
p13(IV0,IV1,IV2,IV3,IV4,IM,OM,R) :- {OV0 = IV4, OV1 = IV1, OV2 = IV2, OV3 = IV3, OV4 = IV4}, p14(OV0,OV1,OV2,OV3,OV4,IM,OM,R).
p14(IV0,IV1,IV2,IV3,IV4,IM,OM,R) :- {OV0 = IV0, OV1 = IV1, OV2 = IV2, OV3 = IV3, OV4 = IV4}, p6(OV0,OV1,OV2,OV3,OV4,IM,OM,R).
